---
layout: post
title:  "flask"
date:   2021-04-02 09:29
categories: Coding
permalink: /archivers/movie
---


# 플라스크 여러가지 차트
 플라스크에는 여러가지 차트가 있다 word cloud 부터 buble Chart등 여러가지 차트가 있다
 나는 이중 word cloud를 사용하여 내이버 영화 랭킹을 플라스크에 표시해보았다


```python
import requests  
from flask import Flask, json, Response, render_template  
from bs4 import BeautifulSoup  
app = Flask(__name__)  
app.config['JSON_AS_ASCII'] = False  
lc=[]  
@app.route("/")  
def hello():  
    data = dict()  
    response = requests.get('[https://movie.naver.com/movie/sdb/rank/rmovie.nhn](https://movie.naver.com/movie/sdb/rank/rmovie.nhn)')  
    html = response.text  
    soup = BeautifulSoup(html, 'html.parser')  
    ranking = 1  
  for tag in soup.select('div[class=tit3]'):  
        url = tag.get('href')  
        data[(str(51-ranking))] = tag.text.strip()  
  
        ranking = ranking + 1  
  if ranking % 2 == 1:  
            lc.append(tag.text.strip())  
    print(lc)  
    js = json.dumps(data)  
    header = Response(js, status=200, mimetype='application/json')  # 응답코드와 MIME type을 별도로 기술  
  
  return render_template('word_colud1.html', values=data,aa=lc )  
if __name__ == "__main__":  
    app.run(host="127.0.0.1", port="8080")```     

이것이 word colud html코드이다 연결하면 이런식으로 나오게 된다
![로고](https://gnaud221.github.io/image/word.PNG )
